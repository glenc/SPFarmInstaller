<?xml version="1.0" ?>
<Configuration>
    <Installation>
        <OfflineInstallation>True</OfflineInstallation>
        <PathToBits>C:\SP2010\SharePointInstallerFiles</PathToBits>
        <PathToInstallConfig>C:\SP2010\installConfig.xml</PathToInstallConfig>
    </Installation>
    <ManagedAccounts>
        <Account name="Farm Service Account" username="DOMAIN\account" password="***" />
        <Account name="Default Content Access Account" username="DOMAIN\account" password="***" />
    </ManagedAccounts>
    <Farm>
        <FarmSvcAccount>Farm Service Account</FarmSvcAccount>
        <Passphrase>$h4re!P01nt</Passphrase>
        <DatabaseServer>SQLSERVERNAME</DatabaseServer>
        <ConfigDB>SP_Config</ConfigDB>
        <CentralAdminContentDB>SP_AdminContent</CentralAdminContentDB>
        <CentralAdminPort>2010</CentralAdminPort>
    </Farm>
    <Topology>
        <ServerGroups>
            <!--
                You may define groups of servers below.  Defining groups
                is recommended to make it easier to assign services to your
                servers.  For example, you can specify that the Managed 
                Metadata service should be started on all App Servers withou
                having to enter the individual server names each time.
            -->
            <Group name="WFE Servers">
                <Server name="localhost"/>
            </Group>
            <Group name="App Servers">
                <Server name="localhost"/>
            </Group>
            <Group name="Search Query Servers">
                <Server name="localhost"/>
            </Group>
            <Group name="Search Index Servers">
                <Server name="localhost"/>
            </Group>
        </ServerGroups>
        
        <!--
            For each service below, in the "runningOn" attribute, enter the serves
            that should be running that service.  You may enter the name of a 
            Server Group defined above, or the name of one or more servers.
            If the service should not be running at all, use "none".
            
            Examples:
            
            The service will be started on the current server only
            <Service name="ManagedMetadata" runningOn="localhost" />
            
            The service will be started on all servers in the WFE Servers group
            <Service name="ManagedMetadata" runningOn="WFE Servers" />
            
            The service will be started on the SERVER1 server
            <Service name="ManagedMetadata" runningOn="SERVER1" />
            
            The service will be started on SERVER1 and SERVER2
            <Service name="ManagedMetadata" runningOn="SERVER1, SERVER2" />
            
            The service will not be started
            <Service name="ManagedMetadata" runningOn="none" />
        -->
        
        <!-- Managed Metadata -->
        <Service name="ManagedMetadata"                  runningOn="App Servers" />
        
        <!-- Business Data Connectivity -->
        <Service name="ApplicationRegistryService"       runningOn="none" />
        <Service name="BusinessDataConnectivityService"  runningOn="App Servers" />
        
        <!-- User Profiles -->
        <Service name="UserProfileService"               runningOn="App Servers" />
        <Service name="UserProfileSyncService"           runningOn="App Servers" />
        
        <!-- Enterprise Search -->
        <Service name="EnterpriseSearchIndexer"          runningOn="Search Index Servers" />
        <Service name="EnterpriseSearchQuery"            runningOn="Search Query Servers" />
        <Service name="EnterpriseSearchAdminComponent"   runningOn="App Servers" />
        <Service name="SearchQueryAndSiteSettings"       runningOn="WFE Servers, App Servers" />
        
        <!-- Office Services -->
        <Service name="AccessService"                    runningOn="none" />
        <Service name="ExcelCalculationServices"         runningOn="none" />
        <Service name="PerformancePoint"                 runningOn="none" />
        <Service name="VisioGraphics"                    runningOn="none" />
        <Service name="WordAutomation"                   runningOn="none" />
        
        <!-- Document Conversions -->
        <Service name="DocumentConversionsLauncher"      runningOn="none" />
        <Service name="DocumentConversionsLoadBalancer"  runningOn="none" />
        
        <!-- Web Analytics -->
        <Service name="WebAnalyticsWebService"           runningOn="App Servers" />
        <Service name="WebAnalyticsDataProcessing"       runningOn="App Servers" />
        
        <!-- Other Services -->
        <Service name="SecureStore"                      runningOn="none" />
        <Service name="SubscriptionSettings"             runningOn="none" />
        <Service name="SandboxedCode"                    runningOn="App Servers" />
        <Service name="IncomingEmail"                    runningOn="none" />
        <Service name="WorkflowTimerService"             runningOn="none" />
        <Service name="ClaimsToWindowsTokenService"      runningOn="none" />
        
        <!-- Lotus Notes Connector -->
        <Service name="LotusNotesConnector"              runningOn="none" />
        
        <!-- Basic WSS Search -->
        <Service name="SharePointSearch"                 runningOn="none" />
        
        <!-- WFE -->
        <Service name="WebApplication"                   runningOn="WFE Servers" />
        
    </Topology>
    <WebApplications>
        <WebApplication name="Internal Portals">
            <AppPool account="Farm Service Account">General Services</AppPool>
        </WebApplication>
    </WebApplications>
    <ServiceApplications>
        <ManagedMetadataApplication name="Managed Metadata">
            <DBName>MMS_DB</DBName>
            <AppPool name="Managed Metadata App Pool" account="Farm Service Account" />
            <Partitioned>False</Partitioned>
            <AdminAccount>Farm Service Account</AdminAccount>
            <Permissions>
                <Grant account="Farm Service Account" rights="Full Access to Term Store" />
            </Permissions>
        </ManagedMetadataApplication>
        
        <UserProfileApplication name="User Profiles">
            <AppPool name="User Profile Service App Pool" account="farm" />
            <Partitioned>False</Partitioned>
            <ProfileDB>SP_Profiles</ProfileDB>
            <ProfileSyncDB>SP_ProfileSync</ProfileSyncDB>
            <SocialDB>SP_SocialDB</SocialDB>
            
            <MySites>
                <HostUrl>http://my</HostUrl>
                <PersonalSitePath>/personal</PersonalSitePath>
            </MySites>
            
            <Permissions>
                <Grant account="farm" rights="Full Control" />
                <Grant account="asdf" rights="Retrieve People Data for Search Crawlers" />
            </Permissions>
        </UserProfileApplication>
        
        <EnterpriseSearchService>
            <ContactEmail>search@mycompany.com</ContactEmail>
            <ConnectionTimeout>60</ConnectionTimeout>
            <AcknowledgementTimeout>60</AcknowledgementTimeout>
            <ProxyType>Default</ProxyType>
            <IgnoreSSLWarnings>False</IgnoreSSLWarnings>
            <InternetIdentity>Mozilla/4.0 (compatible; MSIE 4.01; Windows NT; MS Search 6.0 Robot)</InternetIdentity>
            <PerformanceLevel>PartlyReduced</PerformanceLevel>
            <SearchServiceAccount>Farm Service Account</SearchServiceAccount>
            <IndexLocation>C:\Program Files\Microsoft Office Servers\14.0\Data\Office Server\Applications</IndexLocation>
            <ShareName>SearchShare</ShareName>
        </EnterpriseSearchService>
        
        <EnterpriseSearchApplication name="Enterprise Search">
            <DBName>SearchDB</DBName>
            <AppPool name="Search App Pool" account="Farm Service Account" />
            <AdminAppPool name="Search Admin App Pool" account="Farm Service Account" />
            <Partitioned>False</Partitioned>
            <Partitions>1</Partitions>
            <ContentAccessAccount>Crawl Account</ContentAccessAccount>
            <SearchServiceApplicationType>Regular</SearchServiceApplicationType>
        </EnterpriseSearchApplication>
        
        <SecureStoreApplication name="Secure Store">
        	<DBName>SP_SecureStore</DBName>
        	<AppPool name="Secure Store App Pool" account="farm" />
        	<Partitioned>False</Partitioned>
        </SecureStoreApplication>
        
        <StateServiceApplication name="State Service">
        	<DBName>SP_StateService</DBName>
        </StateServiceApplication>
        
        <WebAnalyticsApplication name="Web Analytics">
        	<AppPool name="Web Analytics" account="Farm Service Account" />
        	<StagingDB>SP_Web_Staging</StagingDB>
        	<ReportingDB>SP_Web_Reporting</ReportingDB>
        	<DataRetentionPeriod>25</DataRetentionPeriod>
        	<SamplingRate>100</SamplingRate>
    	</WebAnalyticsApplication>
    	
    	<WSSUsageApplication name="WSS Usage">
    		<DBName>WSS_Usage</DBName>
    	</WSSUsageApplication>
    </ServiceApplications>
</Configuration>